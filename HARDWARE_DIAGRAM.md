# 🔌 แผนผังฮาร์ดแวร์ - ระบบ Air Quality AI

## 📋 ภาพรวมอุปกรณ์

จากรูปภาพที่ให้มา ระบบของคุณประกอบด้วย:

- **NVIDIA Jetson Nano** (หน่วยประมวลผลหลัก)
- **ESP32 Development Board** (บอร์ดเชื่อมต่อเซ็นเซอร์)
- **SDS011 PM2.5/PM10 Sensor** (เซ็นเซอร์ตรวจจับฝุ่นละออง)
- **DHT22/AM2302** (เซ็นเซอร์อุณหภูมิและความชื้น)
- **MQ-135** (เซ็นเซอร์แก๊สคุณภาพอากาศ)
- **Nova PM Sensor SDS011** (เซ็นเซอร์ฝุ่นเลเซอร์)
- **Breadboard Power Supply Module** (โมดูลจ่ายไฟ 3.3V/5V)

---

## 🔧 


```
                           NVIDIA JETSON NANO (40-pin GPIO)
                    ┌─────────────────────────────────────────────┐
                    │  1○ ○2  ← Pin 2 (5V DC)                     │
                    │  3○ ○4                                      │
                    │  5○ ○6  ← Pin 6 (GND)                       │
                    │  7○ ○8                                      │
                    │  9○ ○10                                     │
                    │ 11○ ○12                                     │
                    │ 13○ ○14                                     │
                    │ 15○ ○16                                     │
                    │ 17○ ○18                                     │
                    │ 19○ ○20                                     │
                    │ 21○ ○22                                     │
                    │ 23○ ○24                                     │
                    │ 25○ ○26                                     │
                    │ 27○ ○28                                     │
                    │ 29○ ○30                                     │
                    │ 31○ ○32                                     │
                    │ 33○ ○34                                     │
                    │ 35○ ○36                                     │
                    │ 37○ ○38                                     │
                    │ 39○ ○40                                     │
                    └─────────────┬───────────────────────────────┘
                                  │ USB-A Port
                                  │
                    ┌─────────────▼───────────────────────────────┐
                    │           USB Cable (Data)                  │
                    └─────────────┬───────────────────────────────┘
                                  │
                    ┌─────────────▼───────────────────────────────┐
                    │              ESP32 DEV BOARD               │
                    │                                             │
                    │  3V3 ○                               ○ VIN │◄── 5V Power Rail
                    │  GND ○                               ○ GND │◄── GND Rail
                    │  D15 ○                               ○ D13 │
                    │   D2 ○                               ○ D12 │
                    │   D4 ○◄── DHT22 Data (Yellow)       ○ D14 │
                    │  D16 ○◄── SDS011 RX (Green)         ○ D27 │
                    │  D17 ○◄── SDS011 TX (White)         ○ D26 │
                    │   D5 ○                               ○ D25 │
                    │  D18 ○                               ○ D33 │
                    │  D19 ○                               ○ D32 │
                    │  D21 ○                               ○ D35 │
                    │   D3 ○                               ○ D34 │
                    │   D1 ○                               ○  VN │
                    │   D0 ○                               ○  VP │
                    │  GND ○                               ○ D36 │◄── MQ-135 AOUT (Blue)
                    │                                             │
                    │              [Micro USB Port]              │
                    └─────────────────────────────────────────────┘
                                  │
                                  │
        ┌─────────────────────────┼─────────────────────────┐
        │                         │                         │
        │         Power Distribution System                 │
        │                                                   │
        │    ┌─────────────────────────────────────────┐    │
        │    │     Breadboard Power Supply Module      │    │
        │    │                                         │    │
        │    │  INPUT          │        OUTPUT         │    │
        │    │ ┌─────────┐     │     ┌───────────────┐ │    │
        │    │ │ VIN(5V) │◄────┼─────┤ 5V Rail  OUT  │ │    │
        │    │ │ GND     │◄────┼─────┤ 3.3V Rail OUT │ │    │
        │    │ └─────────┘     │     │ GND Rail  OUT │ │    │
        │    │                 │     └───────────────┘ │    │
        │    └─────────────────┼─────────────────────────┘    │
        │                      │                              │
        └──────────────────────┼──────────────────────────────┘
                               │
                               │
    ┌──────────────────────────┼──────────────────────────────┐
    │                          │                              │
    │                    Power Connections                    │
    │                                                         │
    │  Jetson Pin 2 (5V) ──────┴────► Power Module VIN       │
    │  Jetson Pin 6 (GND) ───────────► Power Module GND      │
    │                                                         │
    └─────────────────────────────────────────────────────────┘

                    SENSOR CONNECTIONS DETAIL

    ┌─────────────────────────────────────────────────────────┐
    │                    DHT22 Sensor                         │
    │              (Temperature & Humidity)                   │
    │                                                         │
    │        ┌─────────────────────────────┐                  │
    │        │  DHT22 (Front View)         │                  │
    │        │   ┌───┐ ┌───┐ ┌───┐ ┌───┐   │                  │
    │        │   │ 1 │ │ 2 │ │ 3 │ │ 4 │   │                  │
    │        │   └─┬─┘ └─┬─┘ └─┬─┘ └─┬─┘   │                  │
    │        └─────┼─────┼─────┼─────┼─────┘                  │
    │              │     │     │     │                        │
    │              │     │     │     └── Pin 4: GND (Black)   │
    │              │     │     └──────── Pin 3: NC (No Connect)│
    │              │     └──────────── Pin 2: Data → GPIO4    │
    │              └─────────────────── Pin 1: VCC → 3.3V     │
    │                                                         │
    └─────────────────────────────────────────────────────────┘

    ┌─────────────────────────────────────────────────────────┐
    │                   MQ-135 Gas Sensor                     │
    │                 (Air Quality Detection)                 │
    │                                                         │
    │        ┌─────────────────────────────┐                  │
    │        │      MQ-135 Module          │                  │
    │        │   ┌─────────────────┐       │                  │
    │        │   │   Gas Sensor    │       │                  │
    │        │   │   (Circular)    │       │                  │
    │        │   └─────────────────┘       │                  │
    │        │                             │                  │
    │        │  VCC GND AOUT DOUT         │                  │
    │        │   │   │   │    │           │                  │
    │        └───┼───┼───┼────┼───────────┘                  │
    │            │   │   │    │                              │
    │            │   │   │    └── DOUT: Digital Out (Unused) │
    │            │   │   └─────── AOUT: Analog → GPIO36      │
    │            │   └─────────── GND: Ground (Black)        │
    │            └─────────────── VCC: Power → 3.3V (Red)    │
    │                                                         │
    └─────────────────────────────────────────────────────────┘

    ┌─────────────────────────────────────────────────────────┐
    │                  PM2.5 Sensor Module                    │
    │              (PM2.5 & PM10 Detection)                   │
    │                                                         │
    │        ┌─────────────────────────────┐                  │
    │        │     PM2.5 Sensor Module     │                  │
    │        │                             │                  │
    │        │  TXD RXD GND 25μm 5V 1μm NC │                  │
    │        │   │   │   │   │   │  │   │  │                  │
    │        └───┼───┼───┼───┼───┼──┼───┼──┘                  │
    │            │   │   │   │   │  │   │                     │
    │            │   │   │   │   │  │   └── NC: ไม่ต่อ        │
    │            │   │   │   │   │  └────── 1μm: ไม่ต่อ       │
    │            │   │   │   │   └───────── 5V → 5V Rail      │
    │            │   │   │   └───────────── 25μm: ไม่ต่อ      │
    │            │   │   └───────────────── GND → GND Rail    │
    │            │   └───────────────────── RXD → GPIO16      │
    │            └───────────────────────── TXD → GPIO17      │
    │                                                         │
    └─────────────────────────────────────────────────────────┘
```

---

## 📊 ตารางการกำหนด Pin

### การกำหนด Pin ของ ESP32 GPIO

| Pin ESP32        | หน้าที่ | เชื่อมต่อกับ | สีสายไฟ | หมายเหตุ                                     |
| ---------------- | -------------- | ------------------------ | -------------- | ---------------------------------------------------- |
| **VIN**    | รับไฟ 5V  | Power Module 5V Rail     | แดง         | แหล่งจ่ายไฟหลัก                       |
| **GND**    | กราวด์   | Power Module GND Rail    | ดำ           | กราวด์ร่วม                                 |
| **GPIO4**  | Digital I/O    | DHT22 Data Pin           | เหลือง   | ข้อมูลอุณหภูมิ/ความชื้น        |
| **GPIO16** | UART2 RX       | PM2.5 Sensor RXD         | เขียว     | รับข้อมูลเซ็นเซอร์ PM              |
| **GPIO17** | UART2 TX       | PM2.5 Sensor TXD         | ขาว         | ส่งข้อมูลเซ็นเซอร์ PM              |
| **GPIO36** | ADC1_CH0       | MQ-135 AOUT              | น้ำเงิน | อินพุตอนาล็อกเซ็นเซอร์แก๊ส |

### การจ่ายไฟฟ้า

| แหล่งที่มา | ปลายทาง   | แรงดันไฟฟ้า | สีสายไฟ | กระแสไฟฟ้า   |
| -------------------- | ---------------- | ---------------------- | -------------- | ---------------------- |
| Jetson Pin 2         | Power Module VIN | 5V DC                  | แดง         | สูงสุด 2A        |
| Jetson Pin 6         | Power Module GND | 0V                     | ดำ           | เส้นทางกลับ |
| Power Module 5V      | PM2.5 Sensor 5V  | 5V DC                  | แดง         | ปกติ 300mA         |
| Power Module 5V      | ESP32 VIN        | 5V DC                  | แดง         | ปกติ 250mA         |
| Power Module 3.3V    | DHT22 Pin 1      | 3.3V DC                | แดง         | ปกติ 2.5mA         |
| Power Module 3.3V    | MQ-135 VCC       | 3.3V DC                | แดง         | ปกติ 150mA         |
| Power Module GND     | All GND pins     | 0V                     | ดำ           | กราวด์ร่วม   |

### รายละเอียด Pin ของเซ็นเซอร์

#### DHT22 (AM2302) - การต่อ 4 Pin

```
Pin 1: VCC (3.3V-5V) → 3.3V Rail (สายแดง)
Pin 2: DATA → ESP32 GPIO4 (สายเหลือง)
Pin 3: NC (ไม่ต่อ)
Pin 4: GND → GND Rail (สายดำ)
```

#### MQ-135 Gas Sensor Module - การต่อ 4 Pin

```
VCC: ไฟเลี้ยง (3.3V-5V) → 3.3V Rail (สายแดง)
GND: กราวด์ → GND Rail (สายดำ)
AOUT: เอาต์พุตอนาล็อก → ESP32 GPIO36 (สายน้ำเงิน)
DOUT: เอาต์พุตดิจิตอล → ไม่ต่อ
```

#### PM2.5 Sensor Module - การต่อ 7 Pin

```
จากรูปที่เห็น โมดูลเซ็นเซอร์ PM2.5 มี pin ดังนี้:
TXD: ส่งข้อมูล → ESP32 GPIO17 (สายขาว)
RXD: รับข้อมูล → ESP32 GPIO16 (สายเขียว) 
GND: กราวด์ → GND Rail (สายดำ)
25μm: ไม่ต่อ
5V: ไฟเลี้ยง → 5V Rail (สายแดง)
1μm: ไม่ต่อ
NC: ไม่ต่อ
```

---

## ⚡ ความต้องการไฟฟ้า

### การใช้ไฟฟ้าของระบบทั้งหมด

| อุปกรณ์         | แรงดันไฟฟ้า | กระแส (ปกติ) | กระแส (สูงสุด) | กำลังไฟฟ้า |
| ---------------------- | ---------------------- | --------------------- | ------------------------- | -------------------- |
| **Jetson Nano**  | 5V                     | 2A                    | 4A                        | 10W-20W              |
| **ESP32**        | 5V → 3.3V             | 80mA                  | 250mA                     | 0.4W-1.25W           |
| **PM2.5 Sensor** | 5V                     | 70mA                  | 300mA                     | 0.35W-1.5W           |
| **DHT22**        | 3.3V                   | 1.5mA                 | 2.5mA                     | 5mW-8mW              |
| **MQ-135**       | 3.3V                   | 150mA                 | 200mA                     | 0.5W-0.66W           |
| **รวม**       | -                      | ~2.3A                 | ~4.8A                     | ~11.3W-23.4W         |

### ข้อมูลจำเพาะของแหล่งจ่ายไฟ

- **อินพุต**: 5V DC จาก Jetson Nano GPIO
- **เอาต์พุต 1**: 5V DC @ 2A (สำหรับ PM2.5 Sensor, ESP32)
- **เอาต์พุต 2**: 3.3V DC @ 1A (สำหรับ DHT22, MQ-135)
- **ประสิทธิภาพ**: ~85% โดยทั่วไป

---

## 🔧 คำแนะนำการประกอบแบบละเอียด

### 📋 เตรียมความพร้อม

#### ✅ **ตรวจสอบอุปกรณ์**

- [ ] NVIDIA Jetson Nano + SD Card (ติดตั้ง OS แล้ว)
- [ ] ESP32 Development Board
- [ ] DHT22 Temperature/Humidity Sensor
- [ ] MQ-135 Gas Sensor Module
- [ ] PM2.5 Sensor Module
- [ ] Breadboard Power Supply Module
- [ ] Breadboard Half-size
- [ ] Jumper Wires (M-M, M-F) หลายสี
- [ ] USB Cable (Micro USB to USB-A)
- [ ] ตัวต้านทาน 10kΩ (ทางเลือก)

#### 🛠️ **เครื่องมือที่ต้องใช้**

- [ ] มัลติมิเตอร์
- [ ] คีมปอกสาย
- [ ] ไขควงขนาดเล็ก
- [ ] สายรัดข้อมือกันไฟฟ้าสถิต

---

## 🚀 ขั้นตอนการประกอบ (Step-by-Step)

### ขั้นตอนที่ 1: เตรียม Jetson Nano และ Power Supply

#### 1.1 ตรวจสอบ Jetson Nano

```
1. ตรวจสอบ Jetson Nano เปิดเครื่องได้ปกติ
2. ตรวจสอบ GPIO pins ไม่เสียหาย
3. ระบุตำแหน่ง Pin 2 (5V) และ Pin 6 (GND)
4. เตรียม Jetson Nano พร้อมใช้งาน
```

#### 1.2 ติดตั้ง Breadboard Power Supply Module

```
📍 ขั้นตอน:
1. วาง Breadboard บนพื้นผิวเรียบ
2. เสียบ Power Supply Module เข้า Breadboard
   - ให้ส่วน Input อยู่ด้านซ้าย
   - ให้ส่วน Output Rails อยู่ด้านขวา
3. ตรวจสอบ Module นั่งแน่น ไม่โยก
4. ระบุตำแหน่ง Input pins และ Output rails
```

#### 1.3 เชื่อมต่อไฟจาก Jetson Nano

```
⚡ การต่อไฟ:
1. ใช้สายแดง เชื่อมต่อ:
   Jetson Pin 2 (5V) → Power Module VIN
   
2. ใช้สายดำ เชื่อมต่อ:
   Jetson Pin 6 (GND) → Power Module GND
   
3. ตรวจสอบการเชื่อมต่อ:
   - สายแดงต่อขั้ว + (บวก)
   - สายดำต่อขั้ว - (ลบ)
   - การเชื่อมต่อแน่นหนา
```

#### 1.4 ทดสอบ Power Supply

```
🔍 การทดสอบ:
1. เปิดเครื่อง Jetson Nano
2. ตรวจสอบ LED สีเขียวบน Power Module ติด
3. ใช้มัลติมิเตอร์วัดแรงดัน:
   - 5V Rail: 4.8V - 5.2V ✅
   - 3.3V Rail: 3.2V - 3.4V ✅
   - GND: ความต่อเนื่อง ✅
4. ถ้าค่าไม่ถูก ให้ปิดไฟและตรวจสอบการต่อใหม่
```

---

### ขั้นตอนที่ 2: ติดตั้งและเชื่อมต่อ ESP32

#### 2.1 เตรียม ESP32

```
📱 ESP32 Setup:
1. ตรวจสอบ ESP32 ไม่เสียหาย
2. ระบุตำแหน่ง pins สำคัญ:
   - VIN (5V Input)
   - GND (Ground)  
   - GPIO4, GPIO16, GPIO17, GPIO36
   - 3V3 (3.3V Output)
3. ทำความสะอาดขั้ว pins
```

#### 2.2 เชื่อมต่อไฟให้ ESP32

```
🔌 Power Connections:
1. สายแดง: Power Module 5V Rail → ESP32 VIN
2. สายดำ: Power Module GND Rail → ESP32 GND
3. ตรวจสอบการเชื่อมต่อแน่นหนา
4. ยังไม่เปิดไฟ รอให้เชื่อมต่อครบก่อน
```

#### 2.3 เชื่อมต่อ USB Communication

```
💻 USB Setup:
1. เตรียมสาย USB (Micro USB to USB-A)
2. เชื่อมต่อ ESP32 Micro USB Port
3. เชื่อมต่อปลายอีกด้านเข้า Jetson Nano USB Port
4. ตรวจสอบสายไม่หลวม
```

#### 2.4 ทดสอบ ESP32

```
🧪 ESP32 Test:
1. เปิดไฟ Jetson Nano
2. ตรวจสอบ LED บน ESP32 ติด (สีน้ำเงิน)
3. ตรวจสอบ ESP32 ถูก detect:
   ls /dev/ttyUSB* /dev/ttyACM*
   # ควรเห็น: /dev/ttyUSB0 หรือ /dev/ttyACM0
4. ถ้าไม่ detect ให้ตรวจสาย USB และ driver
```

---

### ขั้นตอนที่ 3: เชื่อมต่อเซ็นเซอร์ DHT22 (อุณหภูมิ/ความชื้น)

#### 3.1 ระบุ Pin ของ DHT22

```
🌡️ DHT22 Pinout (มองจากด้านหน้า):
┌─────────────────┐
│  ┌─┐ ┌─┐ ┌─┐ ┌─┐ │
│  │1│ │2│ │3│ │4│ │
│  └─┘ └─┘ └─┘ └─┘ │
└─────────────────┘
   │   │   │   │
   │   │   │   └── Pin 4: GND (สายดำ)
   │   │   └────── Pin 3: NC (ไม่ต่อ)
   │   └────────── Pin 2: Data (สายเหลือง)
   └────────────── Pin 1: VCC (สายแดง)
```

#### 3.2 เชื่อมต่อ DHT22

```
🔗 DHT22 Connections:
1. สายแดง: DHT22 Pin 1 (VCC) → Power Module 3.3V Rail
2. สายเหลือง: DHT22 Pin 2 (Data) → ESP32 GPIO4
3. Pin 3: ปล่อยว่าง (NC = No Connection)
4. สายดำ: DHT22 Pin 4 (GND) → Power Module GND Rail
```

#### 3.3 เพิ่ม Pull-up Resistor (ทางเลือก)

```
📏 Pull-up Resistor Setup:
1. เตรียมตัวต้านทาน 10kΩ
2. ขาหนึ่ง → Power Module 3.3V Rail
3. ขาสอง → ESP32 GPIO4 (เส้นเดียวกับ DHT22 Data)
4. ช่วยให้สัญญาณเสถียรขึ้น
```

#### 3.4 ทดสอบ DHT22

```
🧪 DHT22 Test:
1. เปิดไฟระบบ
2. รันโค้ดทดสอบ DHT22
3. ตรวจสอบค่าที่ได้:
   - อุณหภูมิ: 20-40°C (ปกติ)
   - ความชื้น: 30-90% (ปกติ)
4. ถ้าได้ค่า NaN หรือ error ให้ตรวจการต่อสาย
```

---

### ขั้นตอนที่ 4: เชื่อมต่อเซ็นเซอร์แก๊ส MQ-135

#### 4.1 ระบุ Pin ของ MQ-135

```
💨 MQ-135 Module Pinout:
┌─────────────────────┐
│   ┌─────────────┐   │
│   │  Gas Sensor │   │ ← ส่วนเซ็นเซอร์ (กลม)
│   │  (Circular) │   │
│   └─────────────┘   │
│                     │
│ VCC GND AOUT DOUT  │ ← Pin Headers
│  │   │   │    │    │
└──┼───┼───┼────┼────┘
   │   │   │    │
   │   │   │    └── DOUT: Digital Out (ไม่ใช้)
   │   │   └─────── AOUT: Analog Out (สายน้ำเงิน)
   │   └─────────── GND: Ground (สายดำ)
   └─────────────── VCC: Power (สายแดง)
```

#### 4.2 เชื่อมต่อ MQ-135

```
🔗 MQ-135 Connections:
1. สายแดง: MQ-135 VCC → Power Module 3.3V Rail
2. สายดำ: MQ-135 GND → Power Module GND Rail  
3. สายน้ำเงิน: MQ-135 AOUT → ESP32 GPIO36
4. DOUT: ปล่อยว่าง (ไม่ต่อ)
```

#### 4.3 ข้อควรระวัง MQ-135

```
⚠️ MQ-135 Precautions:
1. เซ็นเซอร์ต้องอุ่นเครื่อง 24-48 ชั่วโมงเพื่อความแม่นยำ
2. ในช่วงแรกค่าอาจไม่เสถียร
3. ต้องการอากาศถ่ายเทดี
4. หลีกเลี่ยงการสัมผัสส่วนเซ็นเซอร์โดยตรง
```

#### 4.4 ทดสอบ MQ-135

```
🧪 MQ-135 Test:
1. เปิดไฟระบบ
2. รอให้เซ็นเซอร์อุ่นเครื่อง 5-10 นาที
3. รันโค้ดทดสอบ MQ-135
4. ตรวจสอบค่าที่ได้:
   - ค่า ADC: 0-4095 (ขิ้นอยู่กับคุณภาพอากาศ)
   - Gas Level: 0-1000 (หลังแปลงค่า)
```

---

### ขั้นตอนที่ 5: เชื่อมต่อเซ็นเซอร์ PM2.5

#### 5.1 ระบุ Pin ของ PM2.5 Sensor

```
🌫️ PM2.5 Sensor Pinout (จากรูปจริง):
┌─────────────────────────────┐
│      PM2.5 Sensor Module    │
│                             │
│  TXD RXD GND 25μm 5V 1μm NC │ ← Pin Headers
│   │   │   │   │   │  │   │  │
└───┼───┼───┼───┼───┼──┼───┼──┘
    │   │   │   │   │  │   │
    │   │   │   │   │  │   └── NC: No Connection
    │   │   │   │   │  └────── 1μm: ไม่ใช้
    │   │   │   │   └───────── 5V: Power (สายแดง)
    │   │   │   └───────────── 25μm: ไม่ใช้
    │   │   └───────────────── GND: Ground (สายดำ)
    │   └───────────────────── RXD: Receive Data (สายเขียว)
    └───────────────────────── TXD: Transmit Data (สายขาว)
```

#### 5.2 เชื่อมต่อ PM2.5 Sensor

```
🔗 PM2.5 Sensor Connections:
1. สายแดง: PM2.5 5V → Power Module 5V Rail
2. สายดำ: PM2.5 GND → Power Module GND Rail
3. สายเขียว: PM2.5 RXD → ESP32 GPIO16  
4. สายขาว: PM2.5 TXD → ESP32 GPIO17
5. Pins อื่น (25μm, 1μm, NC): ปล่อยว่าง
```

#### 5.3 ทดสอบ PM2.5 Sensor

```
🧪 PM2.5 Sensor Test:
1. เปิดไฟระบบ
2. ตรวจสอบเซ็นเซอร์ได้รับไฟ 5V
3. รันโค้ดทดสอบ Serial Communication
4. ตรวจสอบข้อมูลที่ได้:
   - PM2.5: 0-500 μg/m³ (ปกติ 0-50)
   - PM10: 0-500 μg/m³ (ปกติ 0-100)
5. ถ้าไม่มีข้อมูล ตรวจการต่อ RXD/TXD
```

---

### ขั้นตอนที่ 6: การตรวจสอบระบบทั้งหมด

#### 6.1 ตรวจสอบการเชื่อมต่อทั้งหมด

```
✅ Final Connection Check:
Power Connections:
├── Jetson Pin 2 → Power Module VIN ✓
├── Jetson Pin 6 → Power Module GND ✓
├── Power 5V → ESP32 VIN ✓
├── Power 3.3V → DHT22 VCC, MQ-135 VCC ✓
├── Power 5V → PM2.5 Sensor 5V ✓
└── Power GND → All GND connections ✓

Data Connections:
├── DHT22 Data → ESP32 GPIO4 ✓
├── MQ-135 AOUT → ESP32 GPIO36 ✓  
├── PM2.5 RXD → ESP32 GPIO16 ✓
├── PM2.5 TXD → ESP32 GPIO17 ✓
└── ESP32 USB → Jetson USB ✓
```

#### 6.2 ทดสอบระบบทั้งหมด

```
🧪 Full System Test:
1. เปิดไฟ Jetson Nano
2. ตรวจสอบ LEDs:
   - Power Module: เขียว ✓
   - ESP32: น้ำเงิน ✓
3. รันโปรแกรมทดสอบ:
   python sensor_interface.py
4. ตรวจสอบข้อมูลครบทุกเซ็นเซอร์
5. ตรวจสอบค่าในช่วงปกติ
```

#### 6.3 การแก้ปัญหาเบื้องต้น

```
🔧 Troubleshooting:
ถ้า DHT22 ไม่มีข้อมูล:
- ตรวจสาย Data และ Pull-up resistor
- ตรวจแรงดัน VCC = 3.3V

ถ้า MQ-135 ค่าไม่เปลี่ยน:
- รอให้อุ่นเครื่อง 5-10 นาที
- ตรวจการต่อ AOUT

ถ้า PM2.5 ไม่มีข้อมูล:
- ตรวจการต่อ RXD/TXD (อาจสลับกัน)
- ตรวจแรงดัน 5V
- ตรวจ Serial communication

ถ้า ESP32 ไม่ detect:
- เปลี่ยนสาย USB
- ติดตั้ง driver CH340/CP2102
- ลองพอร์ต USB อื่น
```

---

## 🔍 การทดสอบและตรวจสอบ

### การทดสอบทางไฟฟ้า

```bash
# ตรวจสอบเรลไฟฟ้าด้วยมัลติมิเตอร์
5V Rail: 4.8V - 5.2V ✓
3.3V Rail: 3.2V - 3.4V ✓
GND continuity: เซ็นเซอร์ทั้งหมด ✓

# ตรวจสอบการเชื่อมต่อ ESP32
ls /dev/ttyUSB* /dev/ttyACM*
# ควรแสดง: /dev/ttyUSB0 หรือ /dev/ttyACM0

# ทดสอบการสื่อสารกับเซ็นเซอร์
python sensor_interface.py
```

### ค่าที่คาดหวังจากเซ็นเซอร์

- **DHT22**: อุณหภูมิ 20-40°C, ความชื้น 30-90%
- **MQ-135**: ระดับแก๊ส 100-1000 (หน่วยโดยประมาณ)
- **PM2.5 Sensor**: PM2.5 0-500 μg/m³, PM10 0-500 μg/m³

---

## 🚨 ข้อควรระวังด้านความปลอดภัย

### ความปลอดภัยทางไฟฟ้า

- ⚠️ **ห้ามใช้แรงดันเกิน 5V** ในการเชื่อมต่อใดๆ
- ⚠️ **ตรวจสอบขั้วไฟ** ก่อนเชื่อมต่อไฟฟ้า
- ⚠️ **ใช้ขนาดสายไฟที่เหมาะสม** (แนะนำ 22-24 AWG)
- ⚠️ **หลีกเลี่ยงไฟฟ้าลัดวงจร** - ตรวจสอบการเชื่อมต่อซ้ำ

### การป้องกันอุปกรณ์

- 🛡️ **ป้องกัน ESD**: ใช้สายรัดข้อมือกันไฟฟ้าสถิต
- 🛡️ **ป้องกันกระแสเกิน**: โมดูลจ่ายไฟมีการป้องกันในตัว
- 🛡️ **ป้องกันความร้อน**: ให้การระบายอากาศที่เพียงพอ
- 🛡️ **ป้องกันกล**: ยึดการเชื่อมต่อทั้งหมดให้แน่น

---

## 📋 รายการอุปกรณ์ (BOM)

### อุปกรณ์อิเล็กทรอนิกส์

| รายการ                 | จำนวน  | ข้อมูลจำเพาะ               | หมายเหตุ                                 |
| ---------------------------- | ----------- | -------------------------------------- | ------------------------------------------------ |
| สายจัมเปอร์ (M-M) | 20 เส้น | 22 AWG, 20cm                           | หลายสี                                     |
| สายจัมเปอร์ (M-F) | 10 เส้น | 22 AWG, 20cm                           | สำหรับเชื่อมต่อเซ็นเซอร์ |
| ตัวต้านทาน Pull-up | 1 ตัว    | 10kΩ, 1/4W                            | สำหรับ DHT22 (ทางเลือก)            |
| สาย USB                   | 1 เส้น  | Micro USB to USB-A                     | ESP32 ไป Jetson                                |
| ท่อหด                   | 1 เมตร  | เส้นผ่านศูนย์กลาง 2mm | ป้องกันการเชื่อมต่อ           |

### เครื่องมือที่ต้องใช้

- มัลติมิเตอร์ (ทดสอบแรงดัน/ความต่อเนื่อง)
- คีมปอกสาย
- ชุดไขควงขนาดเล็ก
- สายรัดข้อมือกันไฟฟ้าสถิต
- เบรดบอร์ด (ทางเลือกสำหรับต้นแบบ)

---

*สร้างสำหรับโปรเจค Air Quality AI - คู่มือการประกอบฮาร์ดแวร์*
*อัปเดตล่าสุด: พฤศจิกายน 2024*
